{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  

  <title>Network Slice</title>
</head>

<body>
  <header>
    <img src="{% static '/img/logo.png' %}" alt="Logo do site">
    <h1>View Network Slice Data</h1>
  </header>
  <nav>


    <div class="zoon-level">
      <div class="level-num">200%</div>
      <img src="{% static '/img/more-than.png' %}" alt="nivel do zoon">
    </div>

    <div class="magnifying-glass">
      <img src="{% static '/img/zoom-in.png' %}" alt="Zoon in">
      <img src="{% static '/img/zoom-out.png' %}" alt="Zoon out">
    </div>

    <div class="undo-redo">
      <img src="{% static '/img/undo.png' %}" alt="Undo">
      <img src="{% static '/img/redo.png' %}" alt="Redo">
    </div>

    <div class="trash">
      <img src="{% static '/img/delete-bin.png' %}" alt="Trash">
    </div>

    <div class="flip">
      <img src="{% static '/img/bring-to-front.png' %}" alt="flip-to-front">
      <img src="{% static '/img/send-to-back.png' %}" alt="flip-to-back">
    </div>

    <div class="hand">
      <img src="{% static '/img/hand.png' %}" alt="Hand">
    </div>

    <div class="arrow">
      <img src="{% static '/img/right-arrow.png' %}" alt="Arrow-right">
    </div>

    <div class="actions">
      <img src="{% static '/img/save-close.png' %}" alt="Save">
      <img  src="{% static '/img/powershell.png' %}" alt="Execute">
    </div>


  </nav>

  <section class="network-slice">
    <div class="graph">
        <style>
          #graph-container {
            top: 140px;
            bottom: 0;
            left: 0;
            right: 18vw;
            position: absolute;
          }
        </style>
        <div id="graph-container"></div>
      </div>
    </div>

    <div class="aside">
      <header>
        <strong>Requests</strong>
      </header>
      <div class="components">
        <div class="component">
          <div class="title">Component</div>
          <ul>
            <li>
              <a href="">Creation</a>
              <div class="info">
                <a href="">Topology</a>
                <a href="">Service</a>
                <a href="">Duration</a>
              </div>
            </li>
            <li>Edition</li>
            <li>Preview</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</body>

<!-- START SIGMA IMPORTS -->
<script src="{% static 'js/src/sigma.core.js' %}"></script>
<script src="{% static 'js/src/conrad.js' %}"></script>
<script src="{% static 'js/src/utils/sigma.utils.js' %}"></script>
<script src="{% static 'js/src/utils/sigma.polyfills.js' %}"></script>
<script src="{% static 'js/src/sigma.settings.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.dispatcher.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.configurable.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.graph.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.camera.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.quad.js' %}"></script>
<script src="{% static 'js/src/classes/sigma.classes.edgequad.js' %}"></script>
<script src="{% static 'js/src/captors/sigma.captors.mouse.js' %}"></script>
<script src="{% static 'js/src/captors/sigma.captors.touch.js' %}"></script>
<script src="{% static 'js/src/renderers/sigma.renderers.canvas.js' %}"></script>
<script src="{% static 'js/src/renderers/sigma.renderers.webgl.js' %}"></script>
<script src="{% static 'js/src/renderers/sigma.renderers.svg.js' %}"></script>
<script src="{% static 'js/src/renderers/sigma.renderers.def.js' %}"></script>
<script src="{% static 'js/src/renderers/webgl/sigma.webgl.nodes.def.js' %}"></script>
<script src="{% static 'js/src/renderers/webgl/sigma.webgl.nodes.fast.js' %}"></script>
<script src="{% static 'js/src/renderers/webgl/sigma.webgl.edges.def.js' %}"></script>
<script src="{% static 'js/src/renderers/webgl/sigma.webgl.edges.fast.js' %}"></script>
<script src="{% static 'js/src/renderers/webgl/sigma.webgl.edges.arrow.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.labels.def.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.hovers.def.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.nodes.def.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edges.def.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edges.curve.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edges.arrow.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edges.curvedArrow.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edgehovers.def.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edgehovers.curve.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edgehovers.arrow.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.edgehovers.curvedArrow.js' %}"></script>
<script src="{% static 'js/src/renderers/canvas/sigma.canvas.extremities.def.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.utils.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.nodes.def.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.edges.def.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.edges.curve.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.labels.def.js' %}"></script>
<script src="{% static 'js/src/renderers/svg/sigma.svg.hovers.def.js' %}"></script>
<script src="{% static 'js/src/middlewares/sigma.middlewares.rescale.js' %}"></script>
<script src="{% static 'js/src/middlewares/sigma.middlewares.copy.js' %}"></script>
<script src="{% static 'js/src/misc/sigma.misc.animation.js' %}"></script>
<script src="{% static 'js/src/misc/sigma.misc.bindEvents.js' %}"></script>
<script src="{% static 'js/src/misc/sigma.misc.bindDOMEvents.js' %}"></script>
<script src="{% static 'js/src/misc/sigma.misc.drawHovers.js' %}"></script>
<!-- END SIGMA IMPORTS -->
<!-- <script src="{% static 'data/abvt1.json' %}"></script> -->
<script src="{% static 'js/plugins/sigma.parsers.json/sigma.parsers.json.js' %}"></script>


<script>
  fetch('http://127.0.0.1:8000/static/data/abvt1.json')
  .then(response=>response.json())
  .then(data=>{
  
console.log('Antes',(data));
var i,
    s,
    N = (data.nodes).length,
    E = (data.edges).length,
    g = {
      nodes: [],
      edges: []
    };

// Generate a random graph:
for (i = 0; i < N; i++)
  g.nodes.push({
    id: 'n' +(data.nodes[i].id),
    label: 'Node ' +(data.nodes[i].label),
    x: (data.nodes[i].Latitude)?  (data.nodes[i].Latitude): Math.random(),
    y: (data.nodes[i].Longitude)? (data.nodes[i].Longitude): Math.random(),
    size: Math.random(),
    color: '#666'
  });

for (i = 0; i < E; i++)
  g.edges.push({
    id:  'e' + i,
    source: 'n' +(data.edges[i].source),
    target: 'n' +(data.edges[i].target),
    size: Math.random(),
    color: '#3ab'
  });
  
  console.log('depois',(g));
  //Instantiate sigma:
s = new sigma({
  graph: g,
  container: 'graph-container'
});

})


// sigma.parsers.json('http://127.0.0.1:8000/static/data/abvt1.json', {
//   container: 'graph-container'
// });
</script>
